<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="api.css" type="text/css" rel="stylesheet" title="Standard style for API reference" />
<title>getVisBuffer - Retrieve visualization data</title>
</head>
<body>
<h1><span class="fheader"><a name="top" id="top">WaveSoundBuffer.getVisBuffer</a></span></h1><div class="para">
<dl>
<dt>Function/Meaning</dt>
<dd><p>Retrieve visualization data</p>
</dd>
<dt>Type</dt>
<dd>Method of the <a class="jump" href="class_WaveSoundBuffer.html">WaveSoundBuffer class</a></dd>
<dt>Syntax</dt>
<dd><span class="funcdecl">getVisBuffer(<span class="arg">buffer</span>, <span class="arg">numsamples</span>, <span class="arg">channel</span>, <span class="arg">ahead</span><span class="defarg">=<span class="defargval">0</span></span>)</span></dd>
<dt>Arguments</dt>
<dd><table rules="all" frame="box" cellpadding="3" summary="getVisBuffer arguments">
<tr><td valign="top"><span class="argname">buffer</span></td>
<td><p>Specifies the buffer to write the output data to.<br />
The buffer must be an array of 16-bit signed integers, and must be large enough to hold the samples specified by the numsamples and channels arguments (at least numsamples * channels).<br />
If a value other than 1 is specified for channels, the samples for each channel are interleaved (e.g., Right Left Right Left ... for stereo).<br />
A pointer to the first element of the array must be specified, but it should be cast to an integer type when passed.</p>
</td></tr>
<tr><td valign="top"><span class="argname">numsamples</span></td>
<td><p>Specifies the number of samples to retrieve.</p>
</td></tr>
<tr><td valign="top"><span class="argname">channel</span></td>
<td><p>Specifies the number of channels to retrieve.<br />
If 1 is specified, you will get the data as-is for mono, or downmixed to 1 channel otherwise.<br />
If a value other than 1 is specified, it must match the number of channels in the sound currently playing.<br />
In this case, the data is retrieved as-is.</p>
</td></tr>
<tr><td valign="top"><span class="argname">ahead</span></td>
<td><p>Specifies the number of samples to read ahead.<br />
Retrieves samples starting from the current playback position plus the number of samples specified by this argument.<br />
If 0 is specified or this argument is omitted, retrieval starts from the current playback position.</p>
</td></tr>
</table></dd>
<dt>Return Value</dt>
<dd><p>Returns the number of samples successfully retrieved.</p>
</dd>
<dt>Description</dt>
<dd><p>Retrieves PCM data for visualization.<br />
Reads PCM data from the current playback position and writes it to the array specified by the buffer argument.<br />
However, depending on the buffer state or playback format, it may not be possible to read the data correctly.<br />
This method is intended for use by plugins written in C, C++, etc. Therefore, you cannot, for example, specify a TJS array for the buffer argument.<br />
To use this method, the WaveSoundBuffer.useVisBuffer property must be set to true.</p>
</dd>
</dl>
</div>
</body>
</html>