<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="api.css" type="text/css" rel="stylesheet" title="Standard style for API reference" />
<title>doCompact - Memory Compaction</title>
</head>
<body>
<h1><span class="fheader"><a name="top" id="top">System.doCompact</a></span></h1><div class="para">
<dl>
<dt>Function/Meaning</dt>
<dd><p>Memory compaction</p>
</dd>
<dt>Type</dt>
<dd><a class="jump" href="class_System.html">System class</a> method</dd>
<dt>Syntax</dt>
<dd><span class="funcdecl">doCompact(<span class="arg">level</span><span class="defarg">=<span class="defargval">clAll</span></span>)</span></dd>
<dt>Arguments</dt>
<dd><table rules="all" frame="box" cellpadding="3" summary="Arguments for doCompact">
<tr><td valign="top"><span class="argname">level</span></td>
<td><p>Specifies the level. If clIdle is specified, the same compaction process performed when the system is idle (a state where the system is relatively inactive) is executed.<br />
In the current version, TJS2 garbage collection is performed.</p>

<ul>
<li>If clDeactivate is specified, the same compaction process performed when Kirikiri becomes inactive (when another application becomes active) is executed. In the current version, temporary image buffers for layer operations, layer caches, XP3 archive segment (storage fragment) caches, and auto-search path caches are cleared.</li>
<li>If clMinimize is specified, the same compaction process performed when Kirikiri is minimized is executed. In the current version, the rendered character cache and image cache are cleared.</li>
<li>If clAll is specified, all of the above compaction processes are executed.</li>
</ul>

<p>The compaction level increases in the order of clIdle &lt; clDeactivate &lt; clMinimize &lt; clAll.<br />
Specifying a higher level also performs the compaction processes of the lower levels.<br />
For example, executing clDeactivate also executes the processing for clIdle.<br />
If the argument is omitted, clAll is assumed to be specified.</p>
</td></tr>
</table></dd>
<dt>Return Value</dt>
<dd>None (void)</dd>
<dt>Description</dt>
<dd><p>Performs memory compaction.<br />
Compaction is the process of reducing memory usage by releasing unused memory and various cache memories.<br />
Kirikiri performs this automatically, so you usually do not need to worry about it, but you can use this method if you want to force the process from the program side.</p>
</dd>
</dl>
</div>
</body>
</html>